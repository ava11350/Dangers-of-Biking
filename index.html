<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Dangers of Biking</title>
  <link href="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.css" rel="stylesheet">
  <script src="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
      
  <link rel="shortcut icon" href="/favicon_io/favicon.ico" />

  <style>
    :root {
      --mdc-theme-primary: #789B5D;
    }
      
      .mdc-list-item--activated{
          color: #BB873C !important;
      }
      .mdc-list-item__graphic{
          color: #5A7D3F !important;
      }
       
      .hidden{
          display:none;
      }
      
      .view {
          display:none;
      }
      
      #map {
        height: 100%;
        width:100%
      }
      
      .aboutContent{
          padding-left:50px;
          font-family: "Lucida Console", Courier, monospace;
      }
      
    body {margin: 0;}
    main {margin-left: 8px;}
  </style>

  </head>
    
  <body>  
    
    <!-- Top app bar hamburger -->
    <aside class="mdc-drawer mdc-drawer--modal">
    <div class="mdc-drawer__content">
      <nav class="mdc-list">
        <a class="mdc-list-item mdc-list-item--activated" href="#map-layer" aria-current="page">
          <i class="material-icons mdc-list-item__graphic" aria-hidden="true">map</i>
          <span class="mdc-list-item__text">Map</span>
        </a>
        <a class="mdc-list-item" href="#settings">
          <i class="material-icons mdc-list-item__graphic" aria-hidden="true">settings</i>
          <span class="mdc-list-item__text">Settings</span>
        </a>
        <a class="mdc-list-item" href="#about">
          <i class="material-icons mdc-list-item__graphic" aria-hidden="true">supervised_user_circle</i>
          <span class="mdc-list-item__text">About</span>
        </a>
      </nav>
    </div>
  </aside>

      <div class="mdc-drawer-scrim"></div>

    <!-- Top app bar -->
    <header class="mdc-top-app-bar">
  <div class="mdc-top-app-bar__row">
    <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
      <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button">menu</button>
      <span class="mdc-top-app-bar__title" id="top-app-bar-title">Map</span>
    </section>
    <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">
      <!--<button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Download">file_download</button>
      <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Print this page">print</button>
      <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Bookmark this page">bookmark</button>-->
    </section>
  </div>
</header>



  <main class="mdc-top-app-bar--fixed-adjust">
      
    <div class="view" id="map-layer">
        <h1 class="hidden">Map</h1>
        <div id="map" style="width:600px;height:800px"></div>
        <button class="mdc-button foo-button mdc-button--raised">
        <div class="mdc-button__ripple"></div>
        <span class="mdc-button__label">Button</span>
        </button>
    </div>
      
    <div class="view" id="settings">
        <h1 class="hidden">Settings</h1>
    </div>
      
    <div class="view" id="about">
        <h1 class="hidden">About</h1>
        <div class="aboutContent">
            <h2>Dangers of Biking</h2>
            <h4>Created by Ava Smith</h4>
            <img src="/author_img.jpg" style="width:25%">
            <p style="padding-top:15px;width:50%">This project was aimed to give bikers a better idea of safe routes through the city. Additionally, we show forecasted
            weather to allow for safe planning. </p>
            
            <p style="padding-top:15px;width:50%">Currently this project only works for Chicago. We use the google maps API to render the bike layer, 
                City of Chicago API to pull accident data, and INSERT API FOR WEATHER HERE!!! </p>
        </div>
    </div>
    
  </main>


  <script>
    mdc.ripple.MDCRipple.attachTo(document.querySelector('.foo-button'));

    mdc.topAppBar.MDCTopAppBar.attachTo(document.querySelector('header.mdc-top-app-bar'));

    const drawer = mdc.drawer.MDCDrawer.attachTo(document.querySelector('.mdc-drawer'));
   
    document.querySelector("main.mdc-top-app-bar--fixed-adjust div#map-layer").style.display="block";
    
    /* Handles Opening Drawer */  
    document.querySelector(".mdc-top-app-bar__navigation-icon")
      .addEventListener("click", 
          (e) => {drawer.open = true;}
      );
     
    /* Handles Drawer Selections */
    document.querySelectorAll("aside.mdc-drawer a.mdc-list-item").forEach(item => {
        item.addEventListener('click', event => {
            document.querySelectorAll("aside.mdc-drawer a.mdc-list-item").forEach(item => {
                let c = item.getAttribute("href");
                let d = document.querySelector(c);
                d.style.display = "none";
            });
           
            drawer.open=false;
            
            let a = item.getAttribute("href");
            let b = document.querySelector(a);
            b.style.display="block";
            
            let e = document.getElementById("top-app-bar-title");
            e.textContent = b.querySelector("h1").textContent;
        })
    })
    
    /* Map initializer */      
    function initMap() {
        let map = new google.maps.Map(document.getElementById('map'), {
          zoom: 14,
          center: {lat: 42.3726399, lng: -71.1096528}
        });

        let bikeLayer = new google.maps.BicyclingLayer();
        bikeLayer.setMap(map);
      }
    </script>
      
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAQAgu7OzaiiQQL-gZMCTI9pKh6kBbVeIQ&callback=initMap">
    </script>  
  </body>
</html>